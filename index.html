<div style="font-family: 'Inter', sans-serif; max-width: 430px; margin: auto; padding: 20px; background: #f9f9f9; border-radius: 15px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); color: #222;">
  <h1 style="font-weight: 600; font-size: 2.2rem; margin-bottom: 10px; text-align: center;">🎲 Gerador de Palpites</h1>
  <div style="background:#f1f1f1; padding:15px 20px; border-radius:10px; margin-bottom:20px; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.05); font-size:0.95rem;">
    <div style="font-weight:700; font-size:1.1rem; margin-bottom:6px;">⭐ Nosso Palpite</div>
    🔔 <span id="dailyAnimal">Carregando palpite do dia...</span>
    <div style="font-size:0.85rem; color:#888; margin-top:5px;">Nosso palpite é apenas sugestão aleatória. Não é garantia de resultado. Jogue com responsabilidade.</div>
  </div>
  <label for="modeSelect" style="font-weight: 600; margin-bottom: 6px; display: block; color: #555;">Modalidade</label>
  <select id="modeSelect" style="width: 100%; font-size: 1rem; font-weight: 600; padding: 12px 15px; border-radius: 10px; border: 2px solid #ddd; background: #fff; color: #444; cursor: pointer; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill=\'%23444\' height=\'24\' viewBox=\'0 0 24 24\' width=\'24\'><path d=\'M7 10l5 5 5-5z\'/></svg>'); background-repeat: no-repeat; background-position: right 12px center; margin-bottom: 10px;">
    <option value="simple" data-emoji="🦜">🦜 Simples</option>
    <option value="dezena" data-emoji="🔢">🔢 Dezena</option>
    <option value="group" data-emoji="🟣">🟣 Grupo</option>
    <option value="multiple" data-emoji="🎯">🎯 Múltiplo</option>
    <option value="animalOfDay" data-emoji="🌟">🌟 Dia</option>
  </select>
  <button id="generateBtn" style="width: 100%; font-size: 1rem; font-weight: 600; padding: 12px 15px; border-radius: 10px; border: none; background: #764ba2; color: #fff; cursor: pointer; margin-bottom: 15px;">Gerar Palpite</button>
  <div id="result" style="background: #fff; border-radius: 12px; padding: 15px; min-height: 80px; font-weight: 600; color: #333; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: flex; justify-content: center; align-items: center;">Selecione e gere!</div>
  <div style="display: flex; justify-content: space-between; margin-top: 10px;">
    <button id="copyBtn" disabled style="flex: 1; margin: 0 5px; font-size: 0.9rem; opacity: 0.5; cursor: not-allowed; padding: 10px; border-radius: 10px; border: 2px solid #ddd; background: #fff;">📋 Copiar</button>
    <button id="shareBtn" disabled style="flex: 1; margin: 0 5px; font-size: 0.9rem; opacity: 0.5; cursor: not-allowed; padding: 10px; border-radius: 10px; border: 2px solid #ddd; background: #fff;">📲 WhatsApp</button>
  </div>
  <div style="margin-top: 15px; background: #f1f1f1; padding: 10px; border-radius: 10px; max-height: 120px; overflow-y: auto; font-size: 0.9rem;">
    <div style="font-weight: 700; margin-bottom: 8px; font-size: 1rem;">📜 Histórico de Palpites</div>
    <div id="history">Nenhum palpite gerado ainda.</div>
  </div>
</div>

<script>
  (() => {
    const animalData = [
      {animal:'Avestruz',numbers:['01','02','03','04']},
      {animal:'Águia',numbers:['05','06','07','08']},
      {animal:'Burro',numbers:['09','10','11','12']},
      {animal:'Borboleta',numbers:['13','14','15','16']},
      {animal:'Cachorro',numbers:['17','18','19','20']},
      {animal:'Cabra',numbers:['21','22','23','24']},
      {animal:'Carneiro',numbers:['25','26','27','28']},
      {animal:'Camelo',numbers:['29','30','31','32']},
      {animal:'Cobra',numbers:['33','34','35','36']},
      {animal:'Coelho',numbers:['37','38','39','40']},
      {animal:'Cavalo',numbers:['41','42','43','44']},
      {animal:'Elefante',numbers:['45','46','47','48']},
      {animal:'Galo',numbers:['49','50','51','52']},
      {animal:'Gato',numbers:['53','54','55','56']},
      {animal:'Jacaré',numbers:['57','58','59','60']},
      {animal:'Leão',numbers:['61','62','63','64']},
      {animal:'Macaco',numbers:['65','66','67','68']},
      {animal:'Porco',numbers:['69','70','71','72']},
      {animal:'Pavão',numbers:['73','74','75','76']},
      {animal:'Peru',numbers:['77','78','79','80']},
      {animal:'Touro',numbers:['81','82','83','84']},
      {animal:'Tigre',numbers:['85','86','87','88']},
      {animal:'Urso',numbers:['89','90','91','92']},
      {animal:'Veado',numbers:['93','94','95','96']},
      {animal:'Vaca',numbers:['97','98','99','00']}
    ];

    const dailySpan = document.getElementById('dailyAnimal');
    const btn = document.getElementById('generateBtn');
    const copyBtn = document.getElementById('copyBtn');
    const shareBtn = document.getElementById('shareBtn');
    const resultDiv = document.getElementById('result');
    const historyDiv = document.getElementById('history');
    const modeSelect = document.getElementById('modeSelect');

    function getAnimalOfDay() {
      const d = new Date();
      return animalData[d.getDate() % animalData.length];
    }

    const day = getAnimalOfDay();
    dailySpan.textContent = `${day.animal} - ${day.numbers[0]}`;

    let history = JSON.parse(localStorage.getItem('palpites')) || [];

    function renderHistory() {
      if(!history.length) {
        historyDiv.textContent = 'Nenhum palpite gerado ainda.';
        return;
      }
      historyDiv.innerHTML = history.map(h => {
        return `<div>📢 ${h.timestamp} - ${h.emoji} ${h.palpite}</div>`;
      }).join('');
    }
    renderHistory();

    function getRandomInt(max) {
      return Math.floor(Math.random() * max);
    }

    function timestamp() {
      const d = new Date();
      return `${d.toLocaleDateString()} ${d.toLocaleTimeString()}`;
    }

    function generateSimple() {
      const i = getRandomInt(animalData.length);
      return `${animalData[i].animal} - ${animalData[i].numbers[0]}`;
    }

    function generateDezena() {
      const dez = ('0' + getRandomInt(100)).slice(-2);
      return `Dezena: ${dez}`;
    }

    function generateGroup() {
      const group = getRandomInt(25) + 1;
      const animalsGroup = animalData[group - 1];
      return `Grupo ${group} - ${animalsGroup.animal}: ${animalsGroup.numbers.join(', ')}`;
    }

    function generateMultiple() {
      const chosen = new Set();
      while(chosen.size < 3) {
        chosen.add(generateSimple());
      }
      return Array.from(chosen).join(' | ');
    }

    function generateAnimalOfDay() {
      return `${day.animal} - ${day.numbers[0]}`;
    }

    function generate() {
      const selectedOption = modeSelect.options[modeSelect.selectedIndex];
      const emoji = selectedOption.getAttribute('data-emoji') || '';
      let palpite = '';
      switch(modeSelect.value) {
        case 'simple': palpite = generateSimple(); break;
        case 'dezena': palpite = generateDezena(); break;
        case 'group': palpite = generateGroup(); break;
        case 'multiple': palpite = generateMultiple(); break;
        case 'animalOfDay': palpite = generateAnimalOfDay(); break;
        default: palpite = 'Modo inválido.'; 
      }
      return {palpite, emoji};
    }

    function enableButtons() {
      copyBtn.disabled = false;
      shareBtn.disabled = false;
      copyBtn.style.opacity = '1';
      copyBtn.style.cursor = 'pointer';
      shareBtn.style.opacity = '1';
      shareBtn.style.cursor = 'pointer';
    }

    function disableButtons() {
      copyBtn.disabled = true;
      shareBtn.disabled = true;
      copyBtn.style.opacity = '0.5';
      copyBtn.style.cursor = 'not-allowed';
      shareBtn.style.opacity = '0.5';
      shareBtn.style.cursor = 'not-allowed';
    }

    btn.addEventListener('click', () => {
      const {palpite, emoji} = generate();
      resultDiv.textContent = palpite;
      history.unshift({timestamp: timestamp(), emoji, palpite});
      if(history.length > 10) history.pop();
      localStorage.setItem('palpites', JSON.stringify(history));
      renderHistory();
      enableButtons();
    });

    copyBtn.addEventListener('click', () => {
      const textToCopy = resultDiv.textContent + '\n\nSite: https://resultadosbanner.com/';
      navigator.clipboard.writeText(textToCopy).then(() => {
        alert('✅ Palpite copiado! Agora você pode colar na área de transferência.');
      });
    });

    shareBtn.addEventListener('click', () => {
      const text = encodeURIComponent(resultDiv.textContent + '\nSite: https://resultadosbanner.com/');
      const url = `https://api.whatsapp.com/send?text=${text}`;
      window.open(url, '_blank');
    });

    disableButtons();
  })();
</script>
